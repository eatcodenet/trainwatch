group 'net.eatcode'
version '1.0-SNAPSHOT'

repositories {
    mavenCentral()
}

apply plugin: 'java'

sourceCompatibility = 1.8

dependencies {
    compile 'com.google.code.gson:gson:2.6.2'
    compile 'com.hazelcast:hazelcast-client:3.6.1'
    compile 'org.slf4j:slf4j-api:1.7.19'
    compile 'ch.qos.logback:logback-classic:1.1.6'
    compile 'org.apache.kafka:kafka_2.11:0.9.0.1'
    compile 'com.esotericsoftware:kryo:3.0.3'

    testCompile group: 'junit', name: 'junit', version: '4.11'
}

task populateSchedules(type: JavaExec) {
    classpath = sourceSets.main.runtimeClasspath
    main = 'net.eatcode.trains.darwin.PopulateSchedules'
    if (project.hasProperty("dataFile")) {
        args project.property('dataFile')
    }
}

task populateTiplocs(type: JavaExec) {
    classpath = sourceSets.main.runtimeClasspath
    main = 'net.eatcode.trains.darwin.PopulateTiplocs'
    if (project.hasProperty("dataFile")) {
        args project.property('dataFile')
    }
}

task populateCrsCodes(type: JavaExec) {
    classpath = sourceSets.main.runtimeClasspath
    main = 'net.eatcode.trains.darwin.PopulateCrsCodes'
    if (project.hasProperty("dataFile")) {
        args project.property('dataFile')
    }
}
