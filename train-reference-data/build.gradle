dependencies {
    compile 'com.hazelcast:hazelcast-client:3.6.1'
    compile 'com.esotericsoftware:kryo:3.0.3'
}


task(copyrefdata, type: Copy) {
    from(file('/var/trainwatch/data'))
    into(buildDir)
}

task dockerbuild(dependsOn: ["build", "copyrefdata"]) << {  
    exec {
      executable "/usr/local/bin/docker"
      args "build","--no-cache", "-t", "eatcode/tw-populate-data", "."
    }
}

jar {
    from {
        (configurations.runtime).collect {
            it.isDirectory() ? it : zipTree(it)
        }
    }
    manifest {
        attributes("Main-Class": "Main" )
    }
}


